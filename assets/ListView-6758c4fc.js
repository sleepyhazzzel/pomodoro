import{q as H,v as te,x as ge,y as X,z as xe,A as _e,B as Ce,c as m,C as oe,D as Y,i as t,E as we,F as Fe,G as q,H as ee,M as Be,I as $e,J as ae,K as ie,L as Te,N as pe,O as Re,P as Le,Q as be,R as De,S as Ee,T as Ae,U as Ne,r as $,W as Me,w as Ue,X as Oe,Y as We,Z as Ke,_ as je,$ as D,a0 as Z,a1 as ze,a2 as qe,a3 as He,a4 as Xe,a5 as Ye,a6 as Ge,a7 as Je,a8 as re,a9 as Qe,aa as Ze,ab as et,n as de,ac as tt,s as lt,e as F,f as nt,h as R,V as at,k as J,ad as ue,ae as ce,l as s,u as B,af as L,ag as ve,ah as fe,j as it,t as me,m as N}from"./index-2328faa5.js";import{u as ot}from"./list-e4e41448.js";const st=H({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...te(),...ge()},"VDivider"),he=X()({name:"VDivider",props:st(),setup(e,u){let{attrs:n}=u;const{themeClasses:x}=xe(e),{textColorClasses:l,textColorStyles:v}=_e(Ce(e,"color")),_=m(()=>{const P={};return e.length&&(P[e.vertical?"maxHeight":"maxWidth"]=oe(e.length)),e.thickness&&(P[e.vertical?"borderRightWidth":"borderTopWidth"]=oe(e.thickness)),P});return Y(()=>t("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},x.value,l.value,e.class],style:[_.value,v.value,e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}});const rt=H({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...te(),...we({transition:{component:Fe}})},"VCounter"),dt=X()({name:"VCounter",functional:!0,props:rt(),setup(e,u){let{slots:n}=u;const x=m(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Y(()=>t(Be,{transition:e.transition},{default:()=>[q(t("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:x.value,max:e.max,value:e.value}):x.value]),[[ee,e.active]])]})),{}}});const ut=H({floating:Boolean,...te()},"VFieldLabel"),Q=X()({name:"VFieldLabel",props:ut(),setup(e,u){let{slots:n}=u;return Y(()=>t($e,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),ct=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ke=H({appendInnerIcon:ae,bgColor:String,clearable:Boolean,clearIcon:{type:ae,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ae,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ct.includes(e)},"onClick:clear":ie(),"onClick:appendInner":ie(),"onClick:prependInner":ie(),...te(),...Te(),...pe(),...ge()},"VField"),Ve=X()({name:"VField",inheritAttrs:!1,props:{id:String,...Re(),...ke()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:n,emit:x,slots:l}=u;const{themeClasses:v}=xe(e),{loaderClasses:_}=Le(e),{focusClasses:P,isFocused:E,focus:M,blur:T}=be(e),{InputIcon:k}=De(e),{roundedClasses:U}=Ee(e),{rtlClasses:A}=Ae(),w=m(()=>e.dirty||e.active),h=m(()=>!e.singleLine&&!!(e.label||l.label)),z=Ne(),d=m(()=>e.id||`input-${z}`),r=m(()=>`${d.value}-messages`),i=$(),a=$(),c=$(),o=m(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:C,backgroundColorStyles:b}=Me(Ce(e,"bgColor")),{textColorClasses:V,textColorStyles:le}=_e(m(()=>e.error||e.disabled?void 0:w.value&&E.value?e.color:e.baseColor));Ue(w,y=>{if(h.value){const f=i.value.$el,I=a.value.$el;requestAnimationFrame(()=>{const S=Oe(f),g=I.getBoundingClientRect(),W=g.x-S.x,K=g.y-S.y-(S.height/2-g.height/2),p=g.width/.75,j=Math.abs(p-S.width)>1?{maxWidth:oe(p)}:void 0,G=getComputedStyle(f),se=getComputedStyle(I),Ie=parseFloat(G.transitionDuration)*1e3||150,Se=parseFloat(se.getPropertyValue("--v-field-label-scale")),Pe=se.getPropertyValue("color");f.style.visibility="visible",I.style.visibility="hidden",We(f,{transform:`translate(${W}px, ${K}px) scale(${Se})`,color:Pe,...j},{duration:Ie,easing:He,direction:y?"normal":"reverse"}).finished.then(()=>{f.style.removeProperty("visibility"),I.style.removeProperty("visibility")})})}},{flush:"post"});const O=m(()=>({isActive:w,isFocused:E,controlRef:c,blur:T,focus:M}));function ne(y){y.target!==document.activeElement&&y.preventDefault()}return Y(()=>{var W,K,p;const y=e.variant==="outlined",f=l["prepend-inner"]||e.prependInnerIcon,I=!!(e.clearable||l.clear),S=!!(l["append-inner"]||e.appendInnerIcon||I),g=()=>l.label?l.label({...O.value,label:e.label,props:{for:d.value}}):e.label;return t("div",Z({class:["v-field",{"v-field--active":w.value,"v-field--appended":S,"v-field--center-affix":e.centerAffix??!o.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":f,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!g(),[`v-field--variant-${e.variant}`]:!0},v.value,C.value,P.value,_.value,U.value,A.value,e.class],style:[b.value,e.style],onClick:ne},n),[t("div",{class:"v-field__overlay"},null),t(Ke,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),f&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(k,{key:"prepend-icon",name:"prependInner"},null),(W=l["prepend-inner"])==null?void 0:W.call(l,O.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&h.value&&t(Q,{key:"floating-label",ref:a,class:[V.value],floating:!0,for:d.value,style:le.value},{default:()=>[g()]}),t(Q,{ref:i,for:d.value},{default:()=>[g()]}),(K=l.default)==null?void 0:K.call(l,{...O.value,props:{id:d.value,class:"v-field__input","aria-describedby":r.value},focus:M,blur:T})]),I&&t(je,{key:"clear"},{default:()=>[q(t("div",{class:"v-field__clearable",onMousedown:j=>{j.preventDefault(),j.stopPropagation()}},[l.clear?l.clear():t(k,{name:"clear"},null)]),[[ee,e.dirty]])]}),S&&t("div",{key:"append",class:"v-field__append-inner"},[(p=l["append-inner"])==null?void 0:p.call(l,O.value),e.appendInnerIcon&&t(k,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",V.value],style:le.value},[y&&t(D,null,[t("div",{class:"v-field__outline__start"},null),h.value&&t("div",{class:"v-field__outline__notch"},[t(Q,{ref:a,floating:!0,for:d.value},{default:()=>[g()]})]),t("div",{class:"v-field__outline__end"},null)]),o.value&&h.value&&t(Q,{ref:a,floating:!0,for:d.value},{default:()=>[g()]})])])}),{controlRef:c}}});function vt(e){const u=Object.keys(Ve.props).filter(n=>!ze(n)&&n!=="class"&&n!=="style");return qe(e,u)}const ft=["color","file","time","date","datetime-local","week","month"],mt=H({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Xe(),...ke()},"VTextField"),ye=X()({name:"VTextField",directives:{Intersect:Ye},inheritAttrs:!1,props:mt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:n,emit:x,slots:l}=u;const v=Ge(e,"modelValue"),{isFocused:_,focus:P,blur:E}=be(e),M=m(()=>typeof e.counterValue=="function"?e.counterValue(v.value):typeof e.counterValue=="number"?e.counterValue:(v.value??"").toString().length),T=m(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=m(()=>["plain","underlined"].includes(e.variant));function U(o,C){var b,V;!e.autofocus||!o||(V=(b=C[0].target)==null?void 0:b.focus)==null||V.call(b)}const A=$(),w=$(),h=$(),z=m(()=>ft.includes(e.type)||e.persistentPlaceholder||_.value||e.active);function d(){var o;h.value!==document.activeElement&&((o=h.value)==null||o.focus()),_.value||P()}function r(o){x("mousedown:control",o),o.target!==h.value&&(d(),o.preventDefault())}function i(o){d(),x("click:control",o)}function a(o){o.stopPropagation(),d(),de(()=>{v.value=null,tt(e["onClick:clear"],o)})}function c(o){var b;const C=o.target;if(v.value=C.value,(b=e.modelModifiers)!=null&&b.trim&&["text","search","password","tel","url"].includes(e.type)){const V=[C.selectionStart,C.selectionEnd];de(()=>{C.selectionStart=V[0],C.selectionEnd=V[1]})}}return Y(()=>{const o=!!(l.counter||e.counter!==!1&&e.counter!=null),C=!!(o||l.details),[b,V]=Je(n),{modelValue:le,...O}=re.filterProps(e),ne=vt(e);return t(re,Z({ref:A,modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":k.value},e.class],style:e.style},b,O,{centerAffix:!k.value,focused:_.value}),{...l,default:y=>{let{id:f,isDisabled:I,isDirty:S,isReadonly:g,isValid:W}=y;return t(Ve,Z({ref:w,onMousedown:r,onClick:i,"onClick:clear":a,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ne,{id:f.value,active:z.value||S.value,dirty:S.value||e.dirty,disabled:I.value,focused:_.value,error:W.value===!1}),{...l,default:K=>{let{props:{class:p,...j}}=K;const G=q(t("input",Z({ref:h,value:v.value,onInput:c,autofocus:e.autofocus,readonly:g.value,disabled:I.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:d,onBlur:E},j,V),null),[[Qe("intersect"),{handler:U},null,{once:!0}]]);return t(D,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:p,"data-no-activator":""},[l.default(),G]):Ze(G,{class:p}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:C?y=>{var f;return t(D,null,[(f=l.details)==null?void 0:f.call(l,y),o&&t(D,null,[t("span",null,null),t(dt,{active:e.persistentCounter||_.value,value:M.value,max:T.value},l.counter)])])}:void 0})}),et({},A,w,h)}}),ht=s("h1",{class:"mb-5 text-center"},"待辦事項",-1),yt=s("thead",null,[s("tr",null,[s("th",null,"名稱"),s("th",{class:"ps-6"},"操作"),s("th",{class:"ps-6"},"順序")])],-1),gt={key:0},xt=s("td",{colspan:"2"},"目前沒有待辦事項",-1),_t=[xt],Ct=s("h1",{class:"mb-5 text-center"},"已完成事項",-1),bt=s("thead",null,[s("tr",null,[s("th",null,"名稱"),s("th",{class:"ps-7"},"操作")])],-1),kt={key:0},Vt=s("td",{colspan:"2"},"目前沒有已完成事項",-1),It=[Vt],wt={__name:"ListView",setup(e){const u=ot(),{items:n,finishedItems:x}=lt(u),{addItem:l,editItem:v,delItem:_,cancelEditItem:P,confirmEditItem:E,delFinishedItem:M}=u,T=$(""),k=$(null),U=$([]),A=async()=>{(await k.value.validate()).length>0||(l(T.value),k.value.reset())},w=async(r,i)=>{(await U.value[i].validate()).length>0||E(r)},h=r=>{const i=n.value.findIndex(a=>a.id===r);i>0&&([n.value[i],n.value[i-1]]=[n.value[i-1],n.value[i]])},z=r=>{const i=n.value.findIndex(a=>a.id===r);i<n.value.length-1&&([n.value[i],n.value[i+1]]=[n.value[i+1],n.value[i]])},d=[r=>!!r||"欄位必填",r=>r&&r.length>=3||"少於3個字",r=>r.length<20||"不可超過20個字"];return(r,i)=>(F(),nt(at,{class:"mt-5"},{default:R(()=>[t(it,null,{default:R(()=>[t(J,{cols:"12",md:"7"},{default:R(()=>[ht,t(ye,{variant:"outlined",label:"新增事項",modelValue:T.value,"onUpdate:modelValue":i[0]||(i[0]=a=>T.value=a),placeholder:"專題做了沒",clearable:"",counter:"",maxlength:"20",rules:d,"append-icon":"mdi-plus",ref_key:"newItemInput",ref:k,"onClick:append":A,onKeydown:ue(A,["enter"])},null,8,["modelValue"]),t(ce,{class:"mt-5","fixed-header":"",height:"450px"},{default:R(()=>[yt,s("tbody",null,[B(n).length===0?(F(),L("tr",gt,_t)):ve("",!0),(F(!0),L(D,null,fe(B(n),a=>(F(),L("tr",{key:a.id},[s("td",null,[q(s("span",null,me(a.name),513),[[ee,!a.edit]]),q(t(ye,{modelValue:a.model,"onUpdate:modelValue":c=>a.model=c,rules:d,ref_for:!0,ref_key:"editItemInput",ref:U,onKeydown:ue(c=>w(a.id,r.i),["enter"]),autofocus:""},null,8,["modelValue","onUpdate:modelValue","onKeydown"]),[[ee,a.edit]])]),s("td",null,[a.edit?(F(),L(D,{key:1},[t(N,{icon:"mdi-check-underline",variant:"text",color:"green",onClick:c=>B(E)(a.id)},null,8,["onClick"]),t(N,{icon:"mdi-undo-variant",variant:"text",color:"red",onClick:c=>B(P)(a.id)},null,8,["onClick"])],64)):(F(),L(D,{key:0},[t(N,{icon:"mdi-pencil",variant:"text",color:"green",onClick:c=>B(v)(a.id)},null,8,["onClick"]),t(N,{icon:"mdi-delete",variant:"text",color:"red",onClick:c=>B(_)(a.id)},null,8,["onClick"])],64))]),s("td",null,[t(N,{icon:"mdi-chevron-up",variant:"text",onClick:c=>h(a.id)},null,8,["onClick"]),t(N,{icon:"mdi-chevron-down",variant:"text",onClick:c=>z(a.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1}),t(J,{cols:"1",class:"d-none d-md-flex justify-center"},{default:R(()=>[t(he,{vertical:""})]),_:1}),t(J,{cols:"12",class:"d-flex d-md-none"},{default:R(()=>[t(he)]),_:1}),t(J,{cols:"12",md:"4"},{default:R(()=>[Ct,t(ce,{"fixed-header":"",height:"550px"},{default:R(()=>[bt,s("tbody",null,[(F(!0),L(D,null,fe(B(x),a=>(F(),L("tr",{key:a.id},[s("td",null,me(a.name),1),s("td",null,[t(N,{icon:"mdi-delete",variant:"text",color:"red",onClick:c=>B(M)(a.id)},null,8,["onClick"])])]))),128)),B(x).length===0?(F(),L("tr",kt,It)):ve("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{wt as default};
